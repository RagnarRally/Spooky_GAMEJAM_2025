[gd_scene load_steps=12 format=3 uid="uid://c1gpmg3iulicg"]

[ext_resource type="Script" uid="uid://dgwa6pxgwf8w5" path="res://scenes/game.gd" id="1_iywne"]
[ext_resource type="PackedScene" uid="uid://dkvu8ncimgpxm" path="res://entities/player_spaceship/player_spaceship.tscn" id="1_uwrxv"]
[ext_resource type="Texture2D" uid="uid://cbmtggq0spdp4" path="res://assets/art/Star_small.png" id="2_lbhrr"]
[ext_resource type="PackedScene" uid="uid://6wo182se5ki" path="res://systems/planet_spawner/planet_spawner_controller.tscn" id="2_lnu2h"]
[ext_resource type="Script" uid="uid://cnqhqro3npd0c" path="res://systems/audio/configurable_audio_stream_resource.gd" id="3_gee14"]
[ext_resource type="PackedScene" uid="uid://ckrpxipsrp27m" path="res://entities/planet/planet.tscn" id="3_lbhrr"]
[ext_resource type="AudioStream" uid="uid://1cgx8bjon55m" path="res://assets/sound/effects/boostburst.mp3" id="4_0tnpc"]
[ext_resource type="PackedScene" uid="uid://bn4jat02k60lv" path="res://entities/resource/resource.tscn" id="6_u5sy4"]
[ext_resource type="PackedScene" uid="uid://dxtiwq6y4dlho" path="res://entities/cosmic_horror/cosmic_horror.tscn" id="7_u5sy4"]

[sub_resource type="Resource" id="Resource_vtaks"]
script = ExtResource("3_gee14")
stream = ExtResource("4_gee14")
volume = 0.4
pitch_range = Vector2(0.9, 1.1)
audio_bus = &"Sound Effect"
metadata/_custom_type_script = "uid://cnqhqro3npd0c"

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_iywne"]
particle_flag_disable_z = true
emission_shape = 3
emission_box_extents = Vector3(1000, 1000, 1)
gravity = Vector3(0, 0, 0)

[node name="Game" type="Node2D" node_paths=PackedStringArray("player_spaceship", "camera")]
script = ExtResource("1_iywne")
player_spaceship = NodePath("PlayerSpaceship")
camera = NodePath("PlayerSpaceship/Camera2D")

[node name="PlayerSpaceship" parent="." instance=ExtResource("1_uwrxv")]
position = Vector2(548, 329)
engine_power = 80
spin_power = 1000
boost_sound = SubResource("Resource_vtaks")

[node name="Camera2D" type="Camera2D" parent="PlayerSpaceship"]

[node name="GPUParticles2D" type="GPUParticles2D" parent="PlayerSpaceship"]
position = Vector2(8, 2)
amount = 100
texture = ExtResource("2_lbhrr")
lifetime = 20.0
preprocess = 20.0
process_material = SubResource("ParticleProcessMaterial_iywne")

[node name="PlanetSpawnerController" parent="." node_paths=PackedStringArray("player") instance=ExtResource("2_lnu2h")]
planet_packed = ExtResource("3_lbhrr")
resource_packed = ExtResource("6_u5sy4")
player = NodePath("../PlayerSpaceship")

[node name="CanvasLayer" type="CanvasLayer" parent="."]
layer = -10

[node name="ColorRect" type="ColorRect" parent="CanvasLayer"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.07683582, 0.07683582, 0.07683582, 1)
metadata/_edit_use_anchors_ = true

[node name="Label" type="Label" parent="CanvasLayer"]
offset_right = 40.0
offset_bottom = 67.0
text = "Points: 0"

[node name="CosmicHorror" parent="." node_paths=PackedStringArray("target") instance=ExtResource("7_u5sy4")]
position = Vector2(-16, 545)
target = NodePath("../PlayerSpaceship")
chase_time_range = Vector2(1, 3)
rest_time_range = Vector2(1, 2)
